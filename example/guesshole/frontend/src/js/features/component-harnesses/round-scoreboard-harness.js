// Main entry point for the lobby functionality
import '../../../css/input.css';
import Alpine from 'alpinejs';
import { RoundScoreboard } from '../lobby/round-scoreboard.js';

// Make the component factory function globally available for Alpine to use
window.roundScoreboard = () => {
  const roundScoreboard = RoundScoreboard;
  roundScoreboard.gameState = {
    totalRounds: 10,
  };

  roundScoreboard.playerState = {
    currentPlayerId: 'c68a2971-200c-4d10-927f-99e175938978',
  };

  roundScoreboard.lobbyManager = {
    playerState: {
      currentPlayerId: 'c68a2971-200c-4d10-927f-99e175938978',
    },
    gameState: {
      totalRounds: 10,
    },
  };

  roundScoreboard.currentRoundScoreboard = {
    isSoloGame: false, // alter this for other layout
    isLastRound: true, // alter this for final scoreboard
    locationPoint: {
      id: 2226,
      latitude: 52.388305,
      longitude: 4.64474,
      admin0Type: 'Country',
      admin0Name: 'Netherlands',
      gid0: 'NLD',
      admin1Type: 'Province',
      admin1Name: 'Noord-Holland',
      gid1: 'NLD.9_1',
      admin2Type: 'Municipality',
      admin2Name: 'Haarlem',
      gid2: 'NLD.9.21_1',
      admin3Type: '',
      admin3Name: '',
      gid3: '',
      admin4Type: '',
      admin4Name: '',
      gid4: '',
      admin5Type: '',
      admin5Name: '',
      gid5: '',
      mostSpecificName: 'Haarlem',
      formattedLocation: 'Haarlem, Noord-Holland, Netherlands',
    },
    roundNumber: 10,
    playerScores: [
      {
        totalScore: 4565,
        player: {
          id: 'c68a2971-200c-4d10-927f-99e175938978',
          name: 'Martin',
          lobbyId: 'bb6b0bae-0069-49e6-b12c-a1ac8268edd7',
          avatar: 'avatar6',
          active: true,
          kicked: false,
          createdAt: '2025-04-04T06:03:44.722852',
          updatedAt: '2025-04-04T06:03:45.022701',
          host: true,
        },
        guess: {
          id: 'dd345fda-fc84-4f05-b027-e03325dfe9b3',
          playerId: 'db6e63de-ed0b-4053-80df-142a9af3ca39',
          roundId: '4cec9446-f2ac-4882-a6f9-34e64b963562',
          gameInstanceId: '575fd7f3-f6dd-4160-b7a8-981f44578146',
          latitude: 39.174984,
          longitude: 54.140625,
          locationPointId: 2961,
          locationPoint: {
            id: 2961,
            latitude: 39.17498439720954,
            longitude: 54.14062500000001,
            admin0Type: 'Province',
            admin0Name: 'Turkmenistan',
            gid0: 'TKM',
            admin1Type: 'Province',
            admin1Name: 'Balkan',
            gid1: 'TKM.3_1',
            admin2Type: 'District',
            admin2Name: 'Esenguly',
            gid2: 'TKM.3.4_1',
            admin3Type: '',
            admin3Name: '',
            gid3: '',
            admin4Type: '',
            admin4Name: '',
            gid4: '',
            admin5Type: '',
            admin5Name: '',
            gid5: '',
            mostSpecificName: 'Esenguly',
            formattedLocation: 'Esenguly, Balkan, Turkmenistan',
          },
          distanceKm: 4017.2954414585897,
          baseScore: 2654,
          score: 3425,
          scoreMultipliers: [
            {
              id: 'c68a2971-200c-4d10-927f-99e175938978',
              guessId: 'c68a2971-200c-4d10-927f-99e175938978',
              multiplierType: 'CORRECT_CITY',
              displayName: 'Correct City!',
              tooltip: 'x1.1 Correctly guess the city',
              multiplierValue: '1.1',
            },
            {
              id: 'd68a2971-200c-4d10-927f-99e175938978',
              guessId: 'ca8a2971-200c-4d10-927f-99e175938978',
              multiplierType: 'FIRST_GUESS',
              displayName: 'First Guess!',
              tooltip: 'x1.2 Made the first guess of the round',
              multiplierValue: '1.2',
            },
            {
              id: 'e68a2971-200c-4d10-927f-99e175938978',
              guessId: 'c68a2971-200c-4d10-927f-99e175938978',
              multiplierType: 'CORRECT_CITY',
              displayName: 'Correct City!',
              tooltip: 'x1.1 Correctly guess the city',
              multiplierValue: '1.1',
            },
            {
              id: 'f68a2971-200c-4d10-927f-99e175938978',
              guessId: 'ca8a2971-200c-4d10-927f-99e175938978',
              multiplierType: 'FIRST_GUESS',
              displayName: 'First Guess!',
              tooltip: 'x1.2 Made the first guess of the round',
              multiplierValue: '1.2',
            },
          ],
        },
        roundDuration: 60,
        guessTime: 2,
        timestamp: '2025-04-03T17:03:51.321147Z',
        formattedLocation: 'Esenguly, Balkan, Turkmenistan',
        countryName: 'Turkmenistan',
        stateName: 'Balkan',
        cityName: 'Esenguly',
      },
      {
        totalScore: 4005,
        player: {
          id: 'c88a2971-200c-4d10-927f-99e175938978',
          name: 'Mike',
          lobbyId: 'bb6b0bae-0069-49e6-b12c-a1ac8268edd7',
          avatar: 'avatar9',
          active: true,
          kicked: false,
          createdAt: '2025-04-04T06:03:44.722852',
          updatedAt: '2025-04-04T06:03:45.022701',
          host: true,
        },
        guess: {
          id: 'dd345fda-fc84-4f05-b027-e03325dfe9b3',
          playerId: 'db6e63de-ed0b-4053-80df-142a9af3ca39',
          roundId: '4cec9446-f2ac-4882-a6f9-34e64b963562',
          gameInstanceId: '575fd7f3-f6dd-4160-b7a8-981f44578146',
          latitude: 39.174984,
          longitude: 54.140625,
          locationPointId: 2961,
          locationPoint: {
            id: 2961,
            latitude: 39.17498439720954,
            longitude: 54.14062500000001,
            admin0Type: 'Province',
            admin0Name: 'Turkmenistan',
            gid0: 'TKM',
            admin1Type: 'Province',
            admin1Name: 'Balkan',
            gid1: 'TKM.3_1',
            admin2Type: 'District',
            admin2Name: 'Esenguly',
            gid2: 'TKM.3.4_1',
            admin3Type: '',
            admin3Name: '',
            gid3: '',
            admin4Type: '',
            admin4Name: '',
            gid4: '',
            admin5Type: '',
            admin5Name: '',
            gid5: '',
            mostSpecificName: 'Esenguly',
            formattedLocation: 'Esenguly, Balkan, Turkmenistan',
          },
          distanceKm: 4017.2954414585897,
          baseScore: 2654,
          score: 3425,
          scoreMultipliers: [
            {
              id: 'c68a2971-200c-4d10-927f-99e175938978',
              guessId: 'c68a2971-200c-4d10-927f-99e175938978',
              multiplierType: 'CORRECT_CITY',
              displayName: 'Correct City!',
              tooltip: 'x1.1 Correctly guess the city',
              multiplierValue: '1.1',
            },
            {
              id: 'd68a2971-200c-4d10-927f-99e175938978',
              guessId: 'ca8a2971-200c-4d10-927f-99e175938978',
              multiplierType: 'FIRST_GUESS',
              displayName: 'First Guess!',
              tooltip: 'x1.2 Made the first guess of the round',
              multiplierValue: '1.2',
            },
            {
              id: 'e68a2971-200c-4d10-927f-99e175938978',
              guessId: 'c68a2971-200c-4d10-927f-99e175938978',
              multiplierType: 'CORRECT_CITY',
              displayName: 'Correct City!',
              tooltip: 'x1.1 Correctly guess the city',
              multiplierValue: '1.1',
            },
            {
              id: 'f68a2971-200c-4d10-927f-99e175938978',
              guessId: 'ca8a2971-200c-4d10-927f-99e175938978',
              multiplierType: 'FIRST_GUESS',
              displayName: 'First Guess!',
              tooltip: 'x1.2 Made the first guess of the round',
              multiplierValue: '1.2',
            },
          ],
        },
        roundDuration: 60,
        guessTime: 2,
        timestamp: '2025-04-03T17:03:51.321147Z',
        formattedLocation: 'Esenguly, Balkan, Turkmenistan',
        countryName: 'Turkmenistan',
        stateName: 'Balkan',
        cityName: 'Esenguly',
      },
      {
        totalScore: 3641,
        player: {
          id: 'c78a2971-200c-4d10-927f-99e175938978',
          name: 'Chris',
          lobbyId: 'bb6b0bae-0069-49e6-b12c-a1ac8268edd7',
          avatar: 'avatar7',
          active: true,
          kicked: false,
          createdAt: '2025-04-04T06:03:44.722852',
          updatedAt: '2025-04-04T06:03:45.022701',
          host: true,
        },
        guess: {
          id: 'dd345fda-fc84-4f05-b027-e03325dfe9b3',
          playerId: 'db6e63de-ed0b-4053-80df-142a9af3ca39',
          roundId: '4cec9446-f2ac-4882-a6f9-34e64b963562',
          gameInstanceId: '575fd7f3-f6dd-4160-b7a8-981f44578146',
          latitude: 39.174984,
          longitude: 54.140625,
          locationPointId: 2961,
          locationPoint: {
            id: 2961,
            latitude: 39.17498439720954,
            longitude: 54.14062500000001,
            admin0Type: 'Province',
            admin0Name: 'Turkmenistan',
            gid0: 'TKM',
            admin1Type: 'Province',
            admin1Name: 'Balkan',
            gid1: 'TKM.3_1',
            admin2Type: 'District',
            admin2Name: 'Esenguly',
            gid2: 'TKM.3.4_1',
            admin3Type: '',
            admin3Name: '',
            gid3: '',
            admin4Type: '',
            admin4Name: '',
            gid4: '',
            admin5Type: '',
            admin5Name: '',
            gid5: '',
            mostSpecificName: 'Esenguly',
            formattedLocation: 'Esenguly, Balkan, Turkmenistan',
          },
          distanceKm: 4017.2954414585897,
          baseScore: 2654,
          score: 3425,
          scoreMultipliers: [
            {
              id: 'c68a2971-200c-4d10-927f-99e175938978',
              guessId: 'c68a2971-200c-4d10-927f-99e175938978',
              multiplierType: 'CORRECT_CITY',
              displayName: 'Correct City!',
              tooltip: 'x1.1 Correctly guess the city',
              multiplierValue: '1.1',
            },
            {
              id: 'd68a2971-200c-4d10-927f-99e175938978',
              guessId: 'ca8a2971-200c-4d10-927f-99e175938978',
              multiplierType: 'FIRST_GUESS',
              displayName: 'First Guess!',
              tooltip: 'x1.2 Made the first guess of the round',
              multiplierValue: '1.2',
            },
            {
              id: 'e68a2971-200c-4d10-927f-99e175938978',
              guessId: 'c68a2971-200c-4d10-927f-99e175938978',
              multiplierType: 'CORRECT_CITY',
              displayName: 'Correct City!',
              tooltip: 'x1.1 Correctly guess the city',
              multiplierValue: '1.1',
            },
            {
              id: 'f68a2971-200c-4d10-927f-99e175938978',
              guessId: 'ca8a2971-200c-4d10-927f-99e175938978',
              multiplierType: 'FIRST_GUESS',
              displayName: 'First Guess!',
              tooltip: 'x1.2 Made the first guess of the round',
              multiplierValue: '1.2',
            },
          ],
        },
        roundDuration: 60,
        guessTime: 2,
        timestamp: '2025-04-03T17:03:51.321147Z',
        formattedLocation: 'Esenguly, Balkan, Turkmenistan',
        countryName: 'Turkmenistan',
        stateName: 'Balkan',
        cityName: 'Esenguly',
      },
    ],
    isLastRound: false,
  };

  return roundScoreboard;
};

// Initialize Alpine
Alpine.start();
