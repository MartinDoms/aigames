{"version":3,"file":"number-sequence-DmE7JCgG.js","sources":["../../src/js/number-sequence.js"],"sourcesContent":["// Number Sequence Game Logic\nimport Alpine from 'alpinejs';\n\ndocument.addEventListener('alpine:init', () => {\n    Alpine.data('numberSequence', () => ({\n        loading: true,\n        currentSequence: [],\n        currentHint: '',\n        userAnswer: '',\n        showResult: false,\n        isCorrect: false,\n        correctAnswer: null,\n        resultMessage: '',\n        showHint: false,\n        score: 0,\n        streak: 0,\n        stats: {\n            total: 0,\n            correct: 0,\n            incorrect: 0\n        },\n\n        init() {\n            this.loadStats();\n            this.newPuzzle();\n        },\n\n        async newPuzzle() {\n            this.loading = true;\n            this.showResult = false;\n            this.showHint = false;\n            this.userAnswer = '';\n            this.currentHint = '';\n            this.isCorrect = false;\n            this.correctAnswer = null;\n            this.resultMessage = '';\n\n            try {\n                const response = await fetch('/api/number-sequence/new-puzzle');\n                if (response.ok) {\n                    const puzzle = await response.json();\n                    this.currentSequence = puzzle.sequence;\n                    this.currentHint = puzzle.hint;\n                    this.correctAnswer = puzzle.nextValue;\n                } else {\n                    console.error('Failed to fetch new puzzle');\n                    // Fallback puzzle\n                    this.currentSequence = [2, 4, 6, 8, 10];\n                    this.currentHint = 'Each number increases by 2';\n                    this.correctAnswer = 12;\n                }\n            } catch (error) {\n                console.error('Error fetching puzzle:', error);\n                // Fallback puzzle\n                this.currentSequence = [2, 4, 6, 8, 10];\n                this.currentHint = 'Each number increases by 2';\n                this.correctAnswer = 12;\n            }\n\n            this.loading = false;\n        },\n\n        async submitAnswer() {\n            if (!this.userAnswer || this.userAnswer === '') {\n                return;\n            }\n\n            const userAnswerNum = parseInt(this.userAnswer);\n            this.isCorrect = userAnswerNum === this.correctAnswer;\n            \n            // Update statistics\n            this.stats.total++;\n            if (this.isCorrect) {\n                this.stats.correct++;\n                this.streak++;\n                // Score based on streak: base 10 points + streak bonus\n                this.score += 10 + (this.streak - 1) * 2;\n                this.resultMessage = this.getCorrectMessage();\n            } else {\n                this.stats.incorrect++;\n                this.streak = 0;\n                this.resultMessage = \"Not quite right!\";\n            }\n\n            this.saveStats();\n            this.showResult = true;\n        },\n\n        getCorrectMessage() {\n            const messages = [\n                \"Excellent! You got it!\",\n                \"Perfect! Well done!\",\n                \"Great job! You found the pattern!\",\n                \"Awesome! You're on fire!\",\n                \"Outstanding! Keep it up!\",\n                \"Brilliant! You nailed it!\"\n            ];\n            return messages[Math.floor(Math.random() * messages.length)];\n        },\n\n        nextPuzzle() {\n            this.newPuzzle();\n        },\n\n        getHint() {\n            this.showHint = true;\n        },\n\n        hideCurrentHint() {\n            this.showHint = false;\n        },\n\n        getDifficultyName() {\n            if (this.score < 50) return \"Beginner\";\n            if (this.score < 150) return \"Intermediate\";\n            if (this.score < 300) return \"Advanced\";\n            return \"Expert\";\n        },\n\n        getAccuracy() {\n            if (this.stats.total === 0) return \"0%\";\n            return Math.round((this.stats.correct / this.stats.total) * 100) + \"%\";\n        },\n\n        handleKeyPress(event) {\n            if (event.key === 'Enter' && !this.showResult) {\n                this.submitAnswer();\n            }\n        },\n\n        loadStats() {\n            const stored = localStorage.getItem('numberSequenceStats');\n            if (stored) {\n                const data = JSON.parse(stored);\n                this.score = data.score || 0;\n                this.streak = data.streak || 0;\n                this.stats = data.stats || { total: 0, correct: 0, incorrect: 0 };\n            }\n        },\n\n        saveStats() {\n            const data = {\n                score: this.score,\n                streak: this.streak,\n                stats: this.stats\n            };\n            localStorage.setItem('numberSequenceStats', JSON.stringify(data));\n        }\n    }));\n});"],"names":["Alpine","response","puzzle","error","userAnswerNum","messages","event","stored","data"],"mappings":"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"}